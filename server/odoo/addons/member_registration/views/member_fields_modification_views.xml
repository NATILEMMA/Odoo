<?xml version="1.0"?>
<odoo> 


    <!-- This record will handle the member assembly -->
    <record id="assembly_member_tree" model="ir.ui.view">
        <field name="name">Members in Assembly</field>
        <field name="model">member.assembly</field>
        <field name="arch" type="xml">
            <tree editable="bottom" create="false" duplicate="false">
                <field name="partner_id" readonly="1"/>
                <field name="assembly_id" readonly="1"/>
                <field name="assembly_presence"/>
                <field name="assembly_participation"/>
            </tree>
        </field>
    </record>

    <!--This record will create the action of assembly -->
    <record id="assembly_member_action" model="ir.actions.act_window">
        <field name="name">Members in Assembly</field>
        <field name="res_model">member.assembly</field>
        <field name="view_mode">tree,form,pivot,graph</field>
        <field name="domain">[('partner_id', '=', active_id)]</field>
        <field name="limit">20</field>
    </record>

    <record model="ir.actions.act_window.view" id="assembly_member_form_id">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="assembly_member_tree"/>
        <field name="act_window_id" ref="assembly_member_action"/>
    </record>


    <record id="member_training_report_tree" model="ir.ui.view">
        <field name="name">Leaders Training</field>
        <field name="model">leaders.trainings</field>
        <field name="arch" type="xml">
            <tree edit="false" create="false" duplicate="false">
                <field name="partner_id" readonly="1"/>
                <field name="training_type" readonly="1"/>
                <field name="training_round" readonly="1"/>
                <field name="training_year" readonly="1"/>
                <field name="training_result" readonly="1"/>
                <field name="training_center" readonly="1"/>
            </tree>
        </field>
    </record>

    <record id="member_trainings" model="ir.actions.act_window">
        <field name="name">Leader Training</field>
        <field name="res_model">leaders.trainings</field>
        <field name="view_mode">tree,pivot,graph</field>
        <field name="domain">[('partner_id', '=', active_id)]</field>
    </record>

  <record model="ir.actions.act_window.view" id="training_form_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="member_training_report_tree"/>
      <field name="act_window_id" ref="member_trainings"/>
  </record>

    <record id="member_evaluation_tree" model="ir.ui.view">
        <field name="name">Member Evaluation</field>
        <field name="model">leader.evaluation</field>
        <field name="arch" type="xml">
            <tree>
                <field name="evaluated" invisible="1"/>
                <field name="grade"/>
                <button name="finish_evaluation" string="Finish Evaluation" type="object" class="oe_highlight" attrs="{'invisible': [('evaluated', '=', True)]}" confirm="Are you sure you want to finish evaluation?"/>
            </tree>
        </field>
    </record>

    <record id="member_evaluation_form" model="ir.ui.view">
        <field name="name">Member Evaluation</field>
        <field name="model">leader.evaluation</field>
        <field name="arch" type="xml">    
            <form>
                <sheet>
                    <group>
                        <field name="partner_id" invisible="1"/>
                        <field name="evaluated" invisible="1"/>
                        <field name="evaluation_main_points"/>
                    </group>
                    <group>
                        <group class="col-4">
                            <field name="key_strength" string="Key Strength" widget="many2many_tags"/>
                        </group>
                        <group class="col-4">
                            <field name="key_weakness" string="Key Weakness" widget="many2many_tags"/>
                        </group>
                        <group class="col-4">
                            <field name="grade" string="Grade"/>
                        </group>
                    </group>
                    <group>
                        <group class="col-6">
                            <field name="decision" string="Decision"/>
                        </group>
                        <group class="col-6">
                        <button name="add_attachment" string="Attachment" type="object" class="oe_highlight fa fa-paperclip"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="member_evaluation" model="ir.actions.act_window">
        <field name="name">Member Evaluation</field>
        <field name="res_model">leader.evaluation</field>
        <field name="view_mode">tree,form,pivot,graph</field>
        <field name="domain">[('partner_id', '=', active_id)]</field>
    </record>


  <!-- This record tree_view will deal with transfering of members -->
  <record id="member_transfer_tree" model="ir.ui.view">
    <field name="name">Transfer</field>
    <field name="model">members.transfer</field>
    <field name="arch" type="xml">
      <tree duplicate="false" create="false" edit="false">
        <field name="wereda_id" invisible="1"/>
        <field name="responsibility_state"/>
        <field name="state"/>
      </tree>
    </field>
  </record>

  <!--This record will hold the transfered members -->
  <record id="member_transfer_form" model="ir.ui.view">
    <field name="name">Transfer</field>
    <field name="model">members.transfer</field>
    <field name="arch" type="xml">
      <form duplicate="false">
        <header>
          <field name="wereda_id" invisible="1"/>
          <field name="correct_user" invisible="1"/>
          <field name="for_woreda" invisible="1"/>
          <field name="for_subcity" invisible="1"/>
          <field name="for_city" invisible="1"/>
          <field name="for_main" invisible="1"/>
          <field name="for_cell" invisible="1"/>
          <button name="review" states="waiting for approval" string="Review" type="object" class="oe_highlight" confirm="Are you sure you want to Review the transfer?"/>
          <button name="waiting_for_approval" states="draft" string="Send For Approval" type="object" class="oe_highlight" confirm="Are you sure you want to send the transfer for approval?"/>
          <button name="approve_transfer" string="Approve" type="object" class="oe_highlight" attrs="{'invisible': ['|', ('state', '!=', 'review'), ('correct_user', '=', False)]}" confirm="Are you sure you want to Approve the transfer?"/>
          <button name="reject_transfer" string="Reject" type="object" class="oe_highlight" attrs="{'invisible': ['|', ('state', '!=', 'review'), ('correct_user', '=', False)]}" confirm="Are you sure you want to Reject the transfer?"/>
          <field name="state" widget="statusbar" statusbar_visible="draft,waiting for approval,approved,rejected"/>
        </header>
        <sheet>
          <h1>
              <field name="name"/>
          </h1>
          <group>
            <group>
              <separator string="Member Current Place"/>
              <field name="city_id" invisible="1"/>
              <field name="subcity_id" invisible="1"/>
              <field name="wereda_id" invisible="1"/>
              <field name="main_office_id" invisible="1"/>
              <field name="cell_id" invisible="1"/>
              <field name="x_css" force_save="1" nolabel="1" invisible="1"/>
            </group>
            <group>
              <field name="responsibility_state"/>
              <field name="receiving_manager" string="Receiving Leader" force_save="1"/>
            </group>
          </group>
        </sheet>
        <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="activity_ids" widget="mail_activity"/>
            <field name="message_ids" widget="mail_thread"/>
        </div>
      </form>
    </field>
  </record>

  <!-- This record will handle transfers -->
  <record id="member_transfer" model="ir.actions.act_window">
    <field name="name">Transfer</field>
    <field name="res_model">members.transfer</field>
    <field name="view_mode">tree,form,pivot,graph</field>
  </record>

  <record model="ir.actions.act_window.view" id="tranfer_tree_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="member_transfer_tree"/>
      <field name="act_window_id" ref="member_transfer"/>
  </record>

  <record model="ir.actions.act_window.view" id="transfer_form_id">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="member_transfer_form"/>
      <field name="act_window_id" ref="member_transfer"/>
  </record>


  <!-- This record will display types of complaints -->
  <record id="member_complaint_tree" model="ir.ui.view">
    <field name="name">Complaint</field>
    <field name="model">member.complaint</field>
    <field name="arch" type="xml">
      <tree create="false" edit="false" delete="false" decoration-danger="state == 'rejected'" decoration-success="state == 'resolved'" decoration-info="state == 'waiting for approval' or state == 'transferred' or state == 'transferred to city'">
        <field name="name"/>
        <field name="create_date"/>
        <field name="wereda_handler"/>
        <field name="date_of_remedy"/>
        <field name="state"/>
      </tree>
    </field>
  </record>

  <!-- This record will hold the new form for complaint -->
  <record id="member_complaint_form" model="ir.ui.view">
    <field name="name">Complaint</field>
    <field name="model">member.complaint</field>
    <field name="arch" type="xml">
      <form create="false" duplicate="false" edit="false">
          <header>
            <field name="state" widget="statusbar" statusbar_visible="draft,waiting for approval,transferred,transferred to city,resolved,rejected"/>
          </header>
          <sheet>
            <h1>
                <field name="name"/>
            </h1>
            <group>
              <field name="wereda_id" force_save="1" invisible="1"/>
              <field name="subcity_id" force_save="1" invisible="1"/>
              <field name="city_id" force_save="1" invisible="1"/>
              <field name="transfer_1" invisible="1"/>
              <field name="transfer_2" invisible="1"/>
              <field name="transfer_3" invisible="1"/>
              <field name="x_css" invisible="1"/>
              <group>
                <field name="subject"/>
              </group>
            </group>
            <group>
              <field name="circumstances" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
            </group>
            <notebook>
              <page string="Woreda Report">
                <group>
                  <group>
                    <field name="wereda_handler" force_save="1"/>
                  </group>
                  <group>
                      <label for="duration_of_remedy" string="Duration of Remedy"/>
                      <div><field name="duration_of_remedy" string="Duration of Remedy" force_save="1" class="oe_inline"/> days</div>
                      <field name="date_of_remedy" string="Date of Remedy" force_save="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                  </group>
                </group>
                <group>
                  <group>
                    <field name="conclusion_report_wereda" attrs="{'readonly': ['|', '|', ('state', '=', 'resolved'), ('state', '=', 'rejected'), ('state', '=', 'transferred')]}"/>
                  </group>
                </group>
              </page>
              <page string="Subcity Report" attrs="{'invisible': ['&amp;', ('transfer_2', '=', False), ('transfer_1', '=', False)]}">
                <group>
                  <group>
                    <field name="subcity_handler" force_save="1"/>
                  </group>
                  <group>
                      <label for="duration_of_remedy_subcity" string="Duration of Remedy"/>
                      <div><field name="duration_of_remedy_subcity" string="Duration of Remedy" force_save="1" class="oe_inline"/> days</div>
                      <field name="date_of_remedy_subcity" string="Date of Remedy" force_save="1" attrs="{'readonly': ['|', '|', ('state', '=', 'resolved'), ('state', '=', 'rejected'), ('state', '=', 'transferred to city')]}"/>
                  </group>
                </group>
                <group>
                  <group>
                    <field name="conclusion_report_subcity" attrs="{'readonly': ['|', '|', ('state', '=', 'resolved'), ('state', '=', 'rejected'), ('state', '=', 'transferred to city')]}"/>
                  </group>
                </group>
              </page>
              <page string="City Report" attrs="{'invisible': [('transfer_2', '=', False)]}">
                <group>
                  <group>
                    <field name="city_handler" force_save="1"/>
                  </group>
                  <group>
                      <label for="duration_of_remedy_city" string="Duration of Remedy"/>
                      <div><field name="duration_of_remedy_city" string="Duration of Remedy" force_save="1" class="oe_inline"/> days</div>
                      <field name="date_of_remedy_city" string="Date of Remedy" force_save="1"/>
                  </group>
                </group>
                <group>
                  <group>
                    <field name="conclusion_report_city" attrs="{'readonly': ['|', ('state', '=', 'resolved'), ('state', '=', 'rejected')]}"/>
                  </group>
                </group>
              </page>
            </notebook>
          </sheet>
      </form>
    </field>
  </record>


  <record id="member_complaints" model="ir.actions.act_window">
    <field name="name">Complaints</field>
    <field name="res_model">member.complaint</field>
    <field name="view_mode">tree,form,pivot,graph</field>
    <field name="limit">20</field>
  </record>

  <record model="ir.actions.act_window.view" id="member_complaint_tree_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="member_complaint_tree"/>
      <field name="act_window_id" ref="member_complaints"/>
  </record>

  <record model="ir.actions.act_window.view" id="member_complaint_form_id">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="member_complaint_form"/>
      <field name="act_window_id" ref="member_complaints"/>
  </record>

  <!-- This record will add search view for leaders -->
  <record id="leader_view_search" model="ir.ui.view">
    <field name="name">res.partner.search.leader</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <search>
        <field name="name" string="Names" filter_domain="[('name', 'ilike', self)]"/>
        <field name="phone" string="Phone" filter_domain="[('phone', 'ilike', self)]"/>
        <group expand="0" string="Group By" colspan="10" col="8">
          <filter name="leadership_status" string="Status" context="{'group_by': 'leadership_status'}"/>
          <filter name="leader_responsibility" string="Member Responsibility" context="{'group_by': 'leader_responsibility'}"/>
          <filter name="start_of_membership" string="Start of Membership" context="{'group_by': 'start_of_membership'}"/>
          <filter name="membership_org" string="Member Organization" context="{'group_by': 'membership_org'}"/>
        </group>
      </search>
    </field>
  </record>

  <!-- This record will add search view for members -->
  <record id="member_view_search" model="ir.ui.view">
    <field name="name">res.partner.search.member</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <search>
        <field name="name" string="Names" filter_domain="[('name', 'ilike', self)]"/>
        <field name="phone" string="Phone" filter_domain="[('phone', 'ilike', self)]"/>
        <group expand="0" string="Group By" colspan="10" col="8">
          <filter name="member_responsibility" string="Member Responsibility" context="{'group_by': 'member_responsibility'}"/>
          <filter name="start_of_membership" string="Start of Membership" context="{'group_by': 'start_of_membership'}"/>
          <filter name="membership_org" string="Member Organization" context="{'group_by': 'membership_org'}"/>
        </group>
      </search>
    </field>
  </record>

  <!-- This record will add search view for leagues -->
  <record id="league_view_search" model="ir.ui.view">
    <field name="name">res.partner.search.league</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <search>
        <field name="name" string="Names" filter_domain="[('name', 'ilike', self)]"/>
        <field name="phone" string="Phone" filter_domain="[('phone', 'ilike', self)]"/>
        <group expand="0" string="Group By" colspan="10" col="8">
          <filter name="league_responsibility" string="Status" context="{'group_by': 'league_responsibility'}"/>
          <filter name="start_of_membership" string="Start of Membership" context="{'group_by': 'start_of_membership'}"/>
          <filter name="league_type" string="Type" context="{'group_by': 'league_type'}"/>
          <filter name="membership_org" string="League Organization" context="{'group_by': 'league_organization'}"/>
        </group>
      </search>
    </field>
  </record>

  <!-- This record will hold tree view for members -->
  <record id="res_partner_tree_view" model="ir.ui.view">
    <field name="name">Members</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <tree create="false">
        <field name="create_date"/>
        <field name="name"/>
        <field name="age"/>
        <field name="gender"/>
        <field name="ethnic_group"/>
        <field name="phone" optional="hidden"/>
        <field name="education_level"/>
        <field name="start_of_membership"  optional="hidden"/>
        <field name="membership_org"/>
        <field name="member_responsibility"/>
        <field name="grade"  optional="hidden"/>
        <field name="subcity_id"/>
        <field name="wereda_id"/>
        <field name="payed_for_id"/>
      </tree>
    </field>
  </record>


  <!-- This record will hold tree view for leader -->
  <record id="res_partner_leader_tree_view" model="ir.ui.view">
    <field name="name">Leaders</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <tree create="false">
        <field name="create_date"/>
        <field name="name"/>
        <field name="age"/>
        <field name="gender"/>
        <field name="ethnic_group"/>
        <field name="phone" optional="hidden"/>
        <field name="education_level"/>
        <field name="start_of_membership" optional="hidden"/>
        <field name="membership_org"/>
        <field name="leader_responsibility"/>
        <field name="experience" optional="hidden"/>
        <field name="grade" optional="hidden"/>
        <field name="subcity_id"/>
        <field name="wereda_id"/>
        <field name="payed_for_id"/>
      </tree>
    </field>
  </record>


  <!-- This record will hold tree view for leagues -->
  <record id="res_partner_league_tree_view" model="ir.ui.view">
    <field name="name">Leagues</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <tree create="false">
        <field name="create_date"/>
        <field name="name"/>
        <field name="age"/>
        <field name="gender"/>
        <field name="ethnic_group"/>
        <field name="education_level"/>
        <field name="start_of_membership"  optional="hidden"/>
        <field name="membership_org"  optional="hidden"/>
        <field name="league_type"/>
        <field name="league_responsibility"/>
        <field name="subcity_id"/>
        <field name="wereda_id"/>
        <field name="payed_for_id"/>
      </tree>
    </field>
  </record>


  <!-- This record will add new fields to the res_partner views -->
  <record id="res_partner_kanban_view_copied" model="ir.ui.view">
    <field name="name">res.partner.kanban.view</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
        <kanban class="o_res_partner_kanban" sample="1" create="false">
          <field name="id"/>
          <field name="image_1920"/>
          <field name="name"/>
          <field name="age"/>
          <field name="evaluated"/>
          <field name="leadership_status"/>
          <field name="is_leader"/>
          <field name="wereda_id"/>
          <field name="subcity_id"/>
          <field name="region"/>
          <templates>
              <t t-name="kanban-box">
                  <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_partner_kanban">
                      <t t-if="record.id.raw_value">
                          <t t-set="placeholder" t-value="'/base/static/img/avatar_grey.png'"/>
                          <div class="o_kanban_image_fill_left o_kanban_image_full" t-attf-style="background-image: url(#{kanban_image('res.partner', 'image_1920', record.id.raw_value, placeholder)})" role="img"/>
                      </t>
                      <div class="oe_kanban_details d-flex flex-column justify-content-between">
                          <div class="o_kanban_record_top">
                              <div class="o_kanban_record_headings">
                                  <strong class="o_kanban_record_title">
                                    <t t-if="record.is_leader.raw_value">
                                      <div class="float-right">
                                        <t t-if="record.evaluated.raw_value">
                                          <span class="fa fa-eye text-success" role="img"/>
                                        </t>
                                        <t t-else="">
                                          <span class="fa fa-eye text-danger" role="img"/>
                                        </t>
                                        <t t-if="record.leadership_status.raw_value == 'active'">
                                          <span class="fa fa-check text-success" role="img"/>
                                        </t>
                                        <t t-else="record.leadership_status.raw_value == 'inactive'">
                                          <span class="fa fa-check text-danger" role="img"/>
                                        </t>
                                      </div>
                                    </t>
                                    <ul>
                                      <li t-if="record.name.raw_value or record.age.raw_value">
                                        <t t-if="record.name.raw_value"><field name="name"/><t t-if="record.age.raw_value">, <field name="age"/></t></t>
                                      </li>
                                      <t t-if="record.is_leader.raw_value">
                                        <li>
                                          <field name="leader_sub_responsibility" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                        </li>
                                      </t>
                                    </ul>
                                  </strong>
                              </div>
                          </div>
                          <div>
                              <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                              <ul>
                                  <li t-if="record.subcity_id.raw_value or record.wereda_id.raw_value">
                                      <t t-if="record.subcity_id.raw_value"><field name="subcity_id"/><t t-if="record.wereda_id.raw_value">, </t></t>
                                      <t t-if="record.wereda_id.raw_value"><field name="wereda_id"/><t t-if="record.region.raw_value">, </t></t>
                                      <t t-if="record.region.raw_value"><field name="region"/></t>
                                  </li>
                              </ul>
                          </div>
                          <div>
                              <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                              <ul>
                                  <li t-if="record.phone.raw_value" class="o_text_overflow"><field name="phone"/></li>
                              </ul>
                          </div>
                          <div class="o_kanban_record_bottom">
                              <div class="oe_kanban_bottom_left"/>
                              <div class="oe_kanban_bottom_right"/>
                          </div>
                      </div>
                  </div>
              </t>
          </templates>
        </kanban>
    </field>
  </record>
  

  <!-- This record will add new fields to the res_partner views -->
  <record id="membership_view_partner_form" model="ir.ui.view">
    <field name="name">Member From</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <form duplicate="false" create="false">
        <field name="appropriate_age" invisible="1"/>
        <field name="has_user_name" invisible="1"/>
        <button type="object" name="action_portal_reset_member_password" string="Reset Member Password" class="fa fa-key" icon="fa-key-o" attrs="{'invisible': [('has_user_name', '=', False)]}" confirm="Are you sure you want to reset password for member?"/>
        <header>
          <button name="archive_record" string="Archive" type="object" groups="member_minor_configuration.member_group_cell_manager" attrs="{'invisible': [('active', '=', False)]}" confirm="Are you sure you want to archive this member?"/>
          <button name="un_archive_record" string="Unarchive" type="object" groups="member_minor_configuration.member_group_cell_manager" attrs="{'invisible': [('active', '=', True)]}" confirm="Are you sure you want to remove this member from archived list?"/>
          <button type="object" name="create_leader" string="Create a Leader" groups="member_minor_configuration.member_group_cell_manager" class="oe_highlight float-left" attrs="{'invisible': [('is_leader', '=', True)]}" confirm="Are you sure you want to create a leader?"/>
          <button type="object" name="create_league" string="Create League" class="oe_highlight float-left" attrs="{'invisible': ['|', ('is_league', '=', True), ('is_leader', '=', True)]}" confirm="Are you sure you want to create a league?"/>
          <button type="object" name="create_member" string="Create Member" groups="member_minor_configuration.member_group_cell_manager" class="oe_highlight float-left" attrs="{'invisible': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('appropriate_age', '=', False)]}" confirm="Are you sure you want to create a member?"/>

        </header>        
        <sheet>
          <div class="oe_button_box" name="button_box">
            <button class="oe_stat_button" name="%(assembly_member_action)d" type="action" icon="fa-users" attrs="{'invisible': ['&amp;', ('is_member', '=', False), ('is_leader', '=', False)]}">
              <field name="assembly_counter" string="Assembly" widget="statinfo" attrs="{'invisible': ['&amp;', ('is_member', '=', False), ('is_leader', '=', False)]}"/>
            </button>
            <button class="oe_stat_button" name="%(member_trainings)d" type="action" icon="fa-keyboard-o" attrs="{'invisible': [('is_leader', '=', False)]}">
              <field name="training_counter" string="Trainings" widget="statinfo" attrs="{'invisible': [('is_leader', '=', False)]}"/>
            </button>
            <button class="oe_stat_button" name="%(member_evaluation)d" string="Evaluations" type="action" icon="fa-list-alt"/>
            <button class="oe_stat_button" name="%(member_transfer)d" type="action" icon="fa-plane" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}">
              <field name="pending_transfer_amount" string="Transfers" widget="statinfo" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}"/>
            </button>
            <button class="oe_stat_button" name="%(member_complaints)d" type="action" icon="fa-frown-o" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}">
              <field name="complaint_amount" string="Complaints" widget="statinfo" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}"/>
            </button>
            <button name="print_id" string="Print ID" type="object" icon="fa-outdent" confirm="Are you sure you want to print membership ID?" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}"/>
            <button name="print_certificate" string="Print Certificate" type="object" icon="fa-certificate" confirm="Are you sure you want to print a member Certificate?" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}"/>
          </div>
          <field name="image_1920" widget="image" class="oe_avatar" options="{'preview_image': 'image_128'}"/>


          <button>
            <div class="ribbon-bookmark-v">
              <div class="ribbon-fold btn btn-warning" attrs="{'invisible': [('was_supporter', '=', False)]}">Supporter</div>
              <div class="ribbon-fold btn btn-danger" attrs="{'invisible': [('was_candidate', '=', False)]}">Candidate</div>
              <div class="ribbon-fold btn btn-success" attrs="{'invisible': [('was_league', '=', False)]}">League</div>
              <div class="ribbon-fold btn btn-info" attrs="{'invisible': [('was_member', '=', False)]}">Member</div>
              <div class="ribbon-fold btn btn-primary" attrs="{'invisible': [('is_leader', '=', False)]}">Leader</div>
            </div>
          </button>

          <h1>
            <field name="name" required="1" placeholder="Eg. John Doe Smith" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
          </h1>

          <group>
            <group>
              <field name="is_league" invisible="1"/>
              <field name="is_member" invisible="1"/>
              <field name="is_leader" invisible="1"/>
              <field name="is_woman" invisible="1"/>
              <field name="active" invisible="1"/>
              <field name="demote" invisible="1"/>
              <field name="click_counter" invisible="1"/>
              <field name="subcity_admin" invisible="1"/>
              <field name="city_admin" invisible="1"/>
              <separator string="Personal Informations"/>
              <field name="first_name" placeholder="Eg. John" attrs="{'invisible': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
              <field name="father_name" placeholder="Eg. Smith" attrs="{'invisible': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
              <field name="grand_father_name" placeholder="Eg. Willam" attrs="{'invisible': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
              <field name="gender" string="Gender" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
              <field name="date" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
              <field name="age" string="Age"  force_save="1"/>
              <field name="ethnic_group" string="Ethnic Group" options="{'no_create': True, 'no_create_edit': True}" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}" force_save="1"/>
              <separator string="Educational Background"/>
                <field name="education_level" string="Education Level" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="field_of_study_id" string="Field of Study" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="is_user_input" invisible="1"/>
                <field name="user_input" attrs="{'invisible': [('is_user_input', '=', False)]}" string="Other Field"/>
              <separator string="Additional Information"/>
                <field name="subcity_id" string="Working Subcity" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)], 'invisible': [('city_admin', '=', True)]}" options="{'no_create': True, 'no_create_edit': True}" force_save="1"/>
                <field name="wereda_id" string="Working Woreda" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)], 'invisible': ['|', ('subcity_admin', '=', True), ('city_admin', '=', True)]}" options="{'no_create': True, 'no_create_edit': True}" force_save="1"/>
                <field name="candidate_id" string="Candidate" attrs="{'invisible': [('was_candidate', '=', False)]}"/>
                <field name="supporter_id" string="Supporter" attrs="{'invisible': [('was_candidate', '=', False)]}"/>  
                <field name="user_name" force_save="1" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}"/>
                <field name="national_id" string="National ID" force_save="1" attrs="{'invisible': ['&amp;', ('is_member', '=', False), ('is_leader', '=', False)]}"/>
                <field name="member_ids" readonly="1" string="Member ID" force_save="1"/>     
            </group>
            <group>
              <separator string="Place of Birth"/>
                <field name="region_of_birth" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="city_of_birth" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="zone_city_of_birth"/>
                <field name="wereda_of_birth" string="Birth Place Woreda"/>
              <separator string="Current Address"/>
                <field name="region" options="{'no_create': True, 'no_create_edit': True}" attrs="{'readonly': ['|', '|', ('is_member', '=', True), ('is_leader', '=', True), ('is_league', '=', True)]}"/>
                <field name="residential_subcity" string="Residential Subcity"/>
                <field name="residential_wereda" string="Residential Woreda"/>
                <field name="kebele" string="Kebele"/>
                <field name="phone" required="1"/>
                <field name="email_address"/>
                <field name="was_supporter" invisible="1"/>
                <field name="was_candidate" invisible="1"/>
                <field name="was_member" invisible="1"/>
                <field name="was_league" invisible="1"/>
            </group>
          </group>
          <notebook>
            <page name="internal_notes" string="Internal Notes" attrs="{'invisible': [('is_leader', '=', False)]}">
                <field name="comment" placeholder="Internal note..."/>
            </page>

            <page string="Membership Information" attrs="{'invisible': [('is_member', '=', False)]}">
              <group>
                <group>
                  <separator string="Membership Organized Under"/>
                  <field name="main_office" force_save="1"/>
                  <field name="member_cells" force_save="1"/>
                  <field name="membership_org" string="Membership Organization" options="{'no_create': True, 'no_create_edit': True}" attrs="{'required': ['|', ('is_member', '=', True), ('is_leader', '=', True)]}"/>
                  <field name="member_responsibility" options="{'no_create': True, 'no_create_edit': True}"/>
                  <field name="member_sub_responsibility" options="{'no_create': True, 'no_create_edit': True}"/>
                  <field name="stock" attrs="{'invisible': [('is_member', '=', False)]}"/>
                </group>
                <group>
                  <separator string="Membership"/>
                  <field name="start_of_membership" string="Start of Membership" attrs="{'required': ['|', ('is_member', '=', True), ('is_leader', '=', True)]}"/>
                  <field name="grade" string="Grade"/>
                  <field name="work_experience"/>
                  <field name="key_strength" string="Key Strength" widget="many2many_tags" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('is_leader', '=', True)]}"/>
                  <field name="key_weakness" string="Key Weakness" widget="many2many_tags" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('is_leader', '=', True)]}"/>
                </group>
              </group>
            </page>

            <page string="Leader Information" attrs="{'invisible': [('is_leader', '=', False)]}">
              <group>
                <group>
                  <separator string="Leader Grouping"/>
                  <field name="main_office" force_save="1"/>
                  <field name="member_cells" force_save="1"/>              
                  <field name="membership_org" string="Membership Organization" options="{'no_create': True, 'no_create_edit': True}" attrs="{'required': ['|', ('is_member', '=', True), ('is_leader', '=', True)]}"/>
                  <field name="leader_responsibility" options="{'no_create': True, 'no_create_edit': True}" attrs="{'required': [('is_leader', '=', True)]}"/>
                  <field name="leader_sub_responsibility" options="{'color_field': 'color', 'no_create_edit': True}" widget="many2many_tags" attrs="{'required': [('is_leader', '=', True)]}"/>
                </group>
                <group>
                  <separator string="Leader"/>
                  <field name="experience"/>
                  <field name="work_experience"/>
                  <field name="leadership_status" string="Leadership Status"/>
                  <field name="start_of_membership" string="Start of Membership" attrs="{'required': ['|', ('is_member', '=', True), ('is_leader', '=', True)]}"/>
                  <field name="gov_responsibility"/>
                  <field name="leader_stock"/>
                </group>
              </group>
            </page>

            <page string="League Information" attrs="{'invisible': [('is_league', '=', False)]}">
              <group>
                <group>
                  <separator string="League Grouping"/>
                  <field name="league_main_office" force_save="1"/>
                  <field name="league_member_cells" force_save="1"/>              
                  <field name="league_type" string="League Type"/>
                  <field name="league_organization" string="League Organization" attrs="{'required': [('is_league', '=', True)]}"/>
                  <field name="league_responsibility" string="League Responsibility" options="{'no_create': True, 'no_create_edit': True}"/>
                  <field name="league_sub_responsibility" options="{'no_create': True, 'no_create_edit': True}"/>
                </group>
                <group>
                  <separator string="League"/>
                  <field name="start_of_league" string="Start of League" attrs="{'required': [('is_league', '=', True)]}"/>
                  <field name="grade" string="Grade"/>
                  <field name="key_strength" string="Key Strength" widget="many2many_tags" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('is_leader', '=', True)]}"/>
                  <field name="key_weakness" string="Key Weakness" widget="many2many_tags" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('is_leader', '=', True)]}"/>
                  <field name="gov_responsibility"/>
                </group>
              </group>
            </page>

            <page string="Membership Payments" name="membership_payment" attrs="{'invisible': [('is_member', '=', False)]}">
              <group>
                <group>
                  <separator string="Membership Fee"/>
                  <field name="payment_method" widget="radio" options="{'horizontal': true}"/>
                  <field name="income" string="Monthly Income" force_save="1" attrs="{'invisible': [('payment_method', '=', 'cash')]}"/>
                  <label for="membership_monthly_fee_percent" string="Monthly Fee Percent" attrs="{'invisible': [('payment_method', '=', 'cash')]}"/>
                    <div>
                      <field name="membership_monthly_fee_percent" class="oe_inline" string="Monthly Fee Percent" attrs="{'invisible': [('payment_method', '=', 'cash')]}" force_save="1"/>
                      <span class="ml8" attrs="{'invisible': [('payment_method', '=', 'cash')]}"> %</span>
                    </div>
                  <field name="membership_monthly_fee_cash" string="Monthly Fee Cash" attrs="{'invisible': [('payment_method', '=', 'percentage')]}" force_save="1"/>
                  <field name="membership_monthly_fee_cash_from_percent" string="Monthly Fee In Cash" attrs="{'invisible': [('payment_method', '=', 'cash')]}" force_save="1"/>
                </group>
                <group>
                  <separator string="Payment Follow-Up"/>
                  <field name="type_of_payment" string="Payment Methods" widget="radio" options="{'horizontal': true}"/>
                  <field name="track_member_fee" force_save="1"/>
                </group>
                <group>
                  <field name="year_of_payment" options="{'no_create': True, 'no_create_edit': True}"/>
                </group>
                  <field name="membership_payments">
                    <tree delete="false" create="false">
                      <field name="member_id"/>
                      <field name="year"/>
                      <field name="month"/>
                      <field name="fee_amount"/>
                      <field name="amount_paid"/>
                      <field name="amount_remaining" string="Amount Remaining"/>
                      <field name="state"/>
                    </tree>
                  </field>
              </group>
            </page>

            <page string="Membership Payments" name="membership_payment" attrs="{'invisible': [('is_leader', '=', False)]}">
              <group>
                <group>
                  <separator string="Membership Fee"/>
                  <field name="payment_method" widget="radio" options="{'horizontal': true}"/>
                  <field name="income" string="Monthly Income" force_save="1" attrs="{'invisible': [('payment_method', '=', 'cash')]}"/>
                  <label for="membership_monthly_fee_percent" string="Monthly Fee Percent" attrs="{'invisible': [('payment_method', '=', 'cash')]}"/>
                    <div>
                      <field name="membership_monthly_fee_percent" class="oe_inline" string="Monthly Fee Percent" attrs="{'invisible': [('payment_method', '=', 'cash')]}" force_save="1"/>
                      <span class="ml8" attrs="{'invisible': [('payment_method', '=', 'cash')]}"> %</span>
                    </div>
                  <field name="membership_monthly_fee_cash" string="Monthly Fee Cash" attrs="{'invisible': [('payment_method', '=', 'percentage')]}" force_save="1"/>
                  <field name="membership_monthly_fee_cash_from_percent" string="Monthly Fee In Cash" attrs="{'invisible': [('payment_method', '=', 'cash')]}" force_save="1"/>
                </group>
                <group>
                  <separator string="Payment Follow-Up"/>
                  <field name="type_of_payment" string="Payment Methods" widget="radio" options="{'horizontal': true}"/>
                  <field name="track_member_fee" force_save="1"/>
                </group>
                <group>
                  <field name="year_of_payment" options="{'no_create': True, 'no_create_edit': True}"/>
                </group>
                  <field name="membership_payments">
                    <tree delete="false" create="false">
                      <field name="member_id"/>
                      <field name="year"/>
                      <field name="month"/>
                      <field name="fee_amount"/>
                      <field name="amount_paid"/>
                      <field name="amount_remaining" string="Amount Remaining"/>
                      <field name="state"/>
                    </tree>
                  </field>
              </group>
            </page>

            <page string="League Payments" name="league_payment" attrs="{'invisible': [('is_league', '=', False)]}">
              <group>
                <group>
                  <field name="pay_for_league"/>
                  <field name="league_payment" force_save="1" attrs="{'invisible': [('pay_for_league', '=', False)], 'required': [('pay_for_league', '=', True)]}"/>
                </group>
                <group>
                  <separator string="Payment Follow-Up"/>
                  <field name="type_of_payment" string="Payment Methods" widget="radio" options="{'horizontal': true}"/>
                  <field name="track_league_fee" force_save="1" />
                </group>
                <group>
                  <field name="year_of_payment" options="{'no_create': True, 'no_create_edit': True}"/>
                </group>
                  <field name="league_payments">
                    <tree delete="false" create="false">
                      <field name="league_id"/>
                      <field name="year"/>
                      <field name="month"/>
                      <field name="fee_amount"/>
                      <field name="amount_paid"/>
                      <field name="amount_remaining" string="Amount Remaining"/>
                      <field name="state"/>
                    </tree>
                  </field>    
              </group>
            </page>        

            <page string="Educational History" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}">
              <field name="educational_history">
                <tree editable="bottom">
                  <field name="education_level" options="{'no_create': True, 'no_create_edit': True}"/>
                  <field name="field_of_study_id" options="{'no_create': True, 'no_create_edit': True}"/>
                </tree>
              </field>
            </page>

            <page string="Work Experience" attrs="{'invisible': ['&amp;', '&amp;', ('is_league', '=', False), ('is_member', '=', False), ('is_leader', '=', False)]}">
              <field name="work_experience_ids">
                <tree decoration-success="current_job == True" decoration-muted="current_job == False">
                  <field name="name"/>
                  <field name="place_of_work"/>
                  <field name="years_of_service"/>
                  <field name="current_job"/>
                </tree>
                <form>
                  <sheet>
                    <group>
                      <group>
                        <field name="name"/>
                        <field name="place_of_work"/>
                      </group>
                      <group>
                        <field name="years_of_service"/>
                        <field name="current_job"/>
                      </group>
                    </group>
                  </sheet>
                </form>
              </field>
            </page>
            <page name="archive" string="Archives" attrs="{'invisible': ['&amp;', ('demote', '=', False), ('active', '=', True)]}">
                <field name="archive_ids" readonly="1">
                    <tree>
                        <field name="date_from" string="Date From"/>
                        <field name="date_to" string="Date To"/>
                        <field name="departure_reason" string="Reason"/>
                        <field name="additional_information" string="Additional Information"/>
                    </tree>
                </field>
            </page>
          </notebook>   
        </sheet>
        <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="activity_ids" widget="mail_activity"/>
            <field name="message_ids" widget="mail_thread"/>
        </div>
      </form>
    </field>
  </record>

  <!-- This record will limit membership view to admins -->
  <record id="membership_members" model="ir.actions.act_window">
    <field name="name">Members</field>
    <field name="res_model">res.partner</field>
    <field name="type">ir.actions.act_window</field>
    <field name="limit">20</field>
    <field name="view_mode">tree,form,kanban,pivot,graph</field>
    <field name="search_view_id" ref="member_view_search"/>
    <field name="context">{}</field>
    <field name="domain">['|', '&amp;', '&amp;', 
                          ('is_league', '=', True),
                          ('is_leader', '=', True),
                          ('is_member', '=', True),
                          '|', '|', '|', '|', '|', '|', '|',
                          ('wereda_id.branch_manager', 'in', [uid]),
                          ('wereda_id.ict_manager', '=', uid),
                          ('subcity_id.parent_manager', 'in', [uid]),
                          ('subcity_id.ict_manager', '=', uid),
                          ('subcity_id.city_id.city_manager', 'in', [uid]),
                          ('subcity_id.city_id.ict_manager', '=', uid),
                          ('subcity_id.city_id.transfer_handler', '=', uid),
                          ('subcity_id.city_id.responsible_id.system_admin', 'in', [uid])]</field>  </record>

  <!-- This record will add new fields to the res_partner views -->
  <record id="membership_view_partner_form_inherit" model="ir.ui.view">
    <field name="name">membership.form</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="membership_view_partner_form"/>
    <field name="arch" type="xml">
      <xpath expr="//form" position="attributes">
        <attribute name="delete">false</attribute>
        <attribute name="duplicate">false</attribute>
      </xpath>
    </field>
  </record>

  <record model="ir.actions.act_window.view" id="membership_view_partner_tree_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="res_partner_tree_view"/>
      <field name="act_window_id" ref="membership_members"/>
  </record>

  <record model="ir.actions.act_window.view" id="membership_view_partner_form_id">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="membership_view_partner_form_inherit"/>
      <field name="act_window_id" ref="membership_members"/>
  </record>

  <record model="ir.actions.act_window.view" id="membership_view_partner_kanban_id">
      <field name="sequence" eval="3"/>
      <field name="view_mode">kanban</field>
      <field name="view_id" ref="res_partner_kanban_view_copied"/>
      <field name="act_window_id" ref="membership_members"/>
  </record>

  <record id="leaders_menu" model="ir.actions.act_window">
    <field name="name">Leaders</field>
    <field name="res_model">res.partner</field>
    <field name="type">ir.actions.act_window</field>
    <field name="view_mode">tree,form,kanban,pivot,graph</field>
    <field name="limit">20</field>
    <field name="search_view_id" ref="leader_view_search"/>
    <field name="domain">['&amp;', ('is_leader', '=', True), '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|',
                                                            ('member_cells.cell_admin', '=', uid),
                                                            ('member_cells.cell_finance', '=', uid),
                                                            ('member_cells.cell_assembler', '=', uid),
                                                            ('main_office.main_admin', '=', uid),
                                                            ('main_office.main_finance', '=', uid),
                                                            ('main_office.main_assembler', '=', uid),  
                                                            ('league_member_cells.cell_admin', '=', uid),
                                                            ('league_member_cells.cell_finance', '=', uid),
                                                            ('league_member_cells.cell_assembler', '=', uid),
                                                            ('league_main_office.main_admin', '=', uid),
                                                            ('league_main_office.main_finance', '=', uid),
                                                            ('league_main_office.main_assembler', '=', uid), 
                                                            ('wereda_id.branch_manager', 'in', [uid]),
                                                            ('wereda_id.ict_manager', '=', uid),
                                                            ('subcity_id.parent_manager', 'in', [uid]),
                                                            ('subcity_id.ict_manager', '=', uid),
                                                            ('subcity_id.city_id.city_manager', 'in', [uid]),
                                                            ('subcity_id.city_id.ict_manager', '=', uid),
                                                            ('subcity_id.city_id.transfer_handler', '=', uid),
                                                            ('subcity_id.city_id.responsible_id.system_admin', 'in', [uid])]</field>
  </record>

  <record model="ir.actions.act_window.view" id="leader_view_partner_tree_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="res_partner_leader_tree_view"/>
      <field name="act_window_id" ref="leaders_menu"/>
  </record>

  <record model="ir.actions.act_window.view" id="leader_view_partner_form_id">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="membership_view_partner_form"/>
      <field name="act_window_id" ref="leaders_menu"/>
  </record>

  <record model="ir.actions.act_window.view" id="leader_view_partner_kanban_id">
      <field name="sequence" eval="3"/>
      <field name="view_mode">kanban</field>
      <field name="view_id" ref="res_partner_kanban_view_copied"/>
      <field name="act_window_id" ref="leaders_menu"/>
  </record>  

  <record id="leagues_menu" model="ir.actions.act_window">
    <field name="name">Leagues</field>
    <field name="res_model">res.partner</field>
    <field name="type">ir.actions.act_window</field>
    <field name="view_mode">tree,form,kanban,pivot,graph</field>
    <field name="limit">20</field>
    <field name="search_view_id" ref="league_view_search"/>
    <field name="domain">['&amp;', ('is_league', '=', True), '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|',
                                                            ('member_cells.cell_admin', '=', uid),
                                                            ('member_cells.cell_finance', '=', uid),
                                                            ('member_cells.cell_assembler', '=', uid),
                                                            ('main_office.main_admin', '=', uid),
                                                            ('main_office.main_finance', '=', uid),
                                                            ('main_office.main_assembler', '=', uid),
                                                            ('league_member_cells.cell_admin', '=', uid),
                                                            ('league_member_cells.cell_finance', '=', uid),
                                                            ('league_member_cells.cell_assembler', '=', uid),
                                                            ('league_main_office.main_admin', '=', uid),
                                                            ('league_main_office.main_finance', '=', uid),
                                                            ('league_main_office.main_assembler', '=', uid), 
                                                            ('wereda_id.branch_manager', 'in', [uid]),
                                                            ('wereda_id.ict_manager', '=', uid),
                                                            ('subcity_id.parent_manager', 'in', [uid]),
                                                            ('subcity_id.ict_manager', '=', uid),
                                                            ('subcity_id.city_id.city_manager', 'in', [uid]),
                                                            ('subcity_id.city_id.ict_manager', '=', uid),
                                                            ('subcity_id.city_id.transfer_handler', '=', uid),
                                                            ('subcity_id.city_id.responsible_id.system_admin', 'in', [uid])]</field>
  </record>

  <record model="ir.actions.act_window.view" id="league_view_partner_tree_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="res_partner_league_tree_view"/>
      <field name="act_window_id" ref="leagues_menu"/>
  </record>

  <record model="ir.actions.act_window.view" id="league_view_partner_form_id">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="membership_view_partner_form"/>
      <field name="act_window_id" ref="leagues_menu"/>
  </record>

  <record model="ir.actions.act_window.view" id="league_view_partner_kanban_id">
      <field name="sequence" eval="3"/>
      <field name="view_mode">kanban</field>
      <field name="view_id" ref="res_partner_kanban_view_copied"/>
      <field name="act_window_id" ref="leagues_menu"/>
  </record> 

  <!-- This record will add an action for membership for certain groups -->
  <record id="default_filter_modification" model="ir.actions.act_window">
    <field name="name">Members</field>
    <field name="res_model">res.partner</field>
    <field name="type">ir.actions.act_window</field>
    <field name="view_mode">tree,form,kanban,pivot,graph</field>
    <field name="limit">20</field>
    <field name="search_view_id" ref="member_view_search"/>
    <field name="domain">['&amp;', '|', ('is_member', '=', True), ('is_leader', '=', True), '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|', '|',
                                                            ('member_cells.cell_admin', '=', uid),
                                                            ('member_cells.cell_finance', '=', uid),
                                                            ('member_cells.cell_assembler', '=', uid),
                                                            ('main_office.main_admin', '=', uid),
                                                            ('main_office.main_finance', '=', uid),
                                                            ('main_office.main_assembler', '=', uid),  
                                                            ('league_member_cells.cell_admin', '=', uid),
                                                            ('league_member_cells.cell_finance', '=', uid),
                                                            ('league_member_cells.cell_assembler', '=', uid),
                                                            ('league_main_office.main_admin', '=', uid),
                                                            ('league_main_office.main_finance', '=', uid),
                                                            ('league_main_office.main_assembler', '=', uid),                                                          
                                                            ('wereda_id.branch_manager', 'in', [uid]),
                                                            ('wereda_id.ict_manager', '=', uid),
                                                            ('subcity_id.parent_manager', 'in', [uid]),
                                                            ('subcity_id.ict_manager', '=', uid),
                                                            ('subcity_id.city_id.city_manager', 'in', [uid]),
                                                            ('subcity_id.city_id.ict_manager', '=', uid),
                                                            ('subcity_id.city_id.transfer_handler', '=', uid),
                                                            ('subcity_id.city_id.responsible_id.system_admin', 'in', [uid])]</field>
    <field name="context">{"default_free_member": True}</field>
  </record>

  <record model="ir.actions.act_window.view" id="own_membership_view_partner_tree_id">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="res_partner_tree_view"/>
      <field name="act_window_id" ref="default_filter_modification"/>
  </record>

  <record model="ir.actions.act_window.view" id="own_membership_view_partner_form_id">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="membership_view_partner_form"/>
      <field name="act_window_id" ref="default_filter_modification"/>
  </record>

  <record model="ir.actions.act_window.view" id="own_membership_view_partner_kanban_id">
      <field name="sequence" eval="3"/>
      <field name="view_mode">kanban</field>
      <field name="view_id" ref="res_partner_kanban_view_copied"/>
      <field name="act_window_id" ref="default_filter_modification"/>
  </record> 

  <!-- This record will add a bar graph to represent gender on the wereda-->
  <record id="graphics_for_gender_wereda" model="ir.ui.view">
    <field name="name">graphic.for.gender.wereda</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <graph type="bar">
        <field name="gender"/>
        <field name="wereda_id"/>
      </graph>
    </field>
  </record>


  <!-- This record will add a bar graph to represent gender on the different subcities-->
  <record id="graphics_for_gender_subcity" model="ir.ui.view">
    <field name="name">graphic.for.gender.subcity</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <graph type="bar">
        <field name="gender"/>
        <field name="subcity_id"/>
      </graph>
    </field>
  </record>

  <!-- This record will add a pie graph to represent gender and their education level -->
  <record id="graphics_for_gender_education" model="ir.ui.view">
    <field name="name">graphic.for.gender.education</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <graph type="bar">
        <field name="education_level"/>
        <field name="gender"/>
      </graph>
    </field>
  </record>

  <!-- This record will compare age and gender -->
  <record id="graphics_for_age_gender" model="ir.ui.view">
    <field name="name">graphic.for.age.gender</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <graph type="bar">
        <field name="age" type="row" interval="week"/>
        <field name="gender" type="col"/>
      </graph>
    </field>
  </record>

  <!-- This record will add a pie graph to represent state_id -->
  <record id="graphics_for_gender_membership_start" model="ir.ui.view">
    <field name="name">graphic.for.partner.4</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <graph type="bar">
        <field name="start_of_membership" type="row" interval="year"/>
        <field name="gender" type="col"/>
      </graph>
    </field>
  </record>


  <!-- This record will inherit the search options for members -->
  <record id="member_inherit_view_search" model="ir.ui.view">
    <field name="name">member.inherit.view.search</field>
    <field name="model">res.partner</field>
    <field name="arch" type="xml">
      <search string="Member_search">
          <filter name="is_leader" string="Leaders"/>
      </search>
    </field>
  </record>


  <menuitem id="submenu_own_members"
            name="Members"
            parent="member_minor_configuration.menu_membership"
            sequence="2"
            groups="member_minor_configuration.member_group_city_transfer_handler,member_minor_configuration.member_group_cell_manager,member_minor_configuration.member_group_assembler,member_minor_configuration.member_group_finance,member_minor_configuration.member_group_agent"
            action="default_filter_modification"/>

   <menuitem id="submenu_all_members"
            name="All Members"
            parent="member_minor_configuration.menu_report_membership"
            sequence="0"
            groups="member_minor_configuration.member_group_admin"
            action="membership_members"/>

  <menuitem id="leadership_views"
            name="Leaders"
            parent="member_minor_configuration.menu_membership"
            sequence="3"
            groups="member_minor_configuration.member_group_city_transfer_handler,member_minor_configuration.member_group_cell_manager,member_minor_configuration.member_group_assembler,member_minor_configuration.member_group_finance,member_minor_configuration.member_group_agent"
            action="leaders_menu"/>

  <menuitem id="league_views"
            name="Leagues"
            parent="member_minor_configuration.menu_membership"
            sequence="4"
            groups="member_minor_configuration.member_group_city_transfer_handler,member_minor_configuration.member_group_cell_manager,member_minor_configuration.member_group_assembler,member_minor_configuration.member_group_finance,member_minor_configuration.member_group_agent"
            action="leagues_menu"/>


    <!-- <menuitem name="All Members"
              id="all_members_report"
              parent="member_minor_configuration.membership_all_module_report_tab"
              groups="member_minor_configuration.member_group_admin"
              sequence="1"/>


   <menuitem id="submenu_all_members_report"
            name="All Members"
            parent="all_members_report"
            action="membership_members"/> -->

</odoo>
